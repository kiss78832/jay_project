##日誌故事由來
** 一、市面上常用的日誌框架:**
>* (1)~(5)為發展順序

    1.抽象底層
        ● jboss-logging -> 不適合一般人使用，特定框架使用。(ex:Hibernate)
        (3)● JCL(Jakarta Commons Logging) -> 自從2014年就不再更新了，Jar包名稱: commons-logging.jar。
        (4)● SLF4j(Simple Logging Facade for Java) -> 大多人使用，超強介面，利用SLF4j可轉換各種不同的日誌。
    2.日誌實作
        (1)● Log4j -> 最原始發展的日誌框架。
        (2)● JUL(java.util.logging) -> Java底層的框架(內建)，Java 1.4，本是要替代Log4j，
             但效能不佳...加上設定檔只能是*.properties，於是誕生JCL規範。
        (4)● Logback -> 繼發現JUL效能不佳，大家還是繼續使用Log4j，於是發展Logback，並同時開發SLF4j強大介面。
        (5)● Log4j2 -> java 1.6以上，由於功能太新，很多平台沒有支援，目前就是Logback與Log4j2在使用。


**二、Spring 跟 SpringBoot 框架各別使用:**

    1.Spring 底層框架 : 默認為JCL(Jakarta Commons Logging)或(Apache Commons Logging)，Jakarta是Apache的研發日誌部門
    2.SpringBoot框架 : 選用SLF4j和Logback

***

##SLF4j使用

**一、如何在系統中使用SLF4j**
>* 以後開發的時候，日誌紀錄方法呼叫，不應該直接呼叫日誌實作類，而是要先從抽象底層呼叫  
* 給系統裡面導入SLF4j的Jar檔 和 Logback的實作Jar檔

    import org.slf4j.Logger;
    import org.slf4j.LoggerFactory;  
        public class HelloWorld {
          public static void main(String[] args) {
            Logger logger = LoggerFactory.getLogger(HelloWorld.class);
            logger.info("Hello World");
          }
        }
    
![SLF4j圖表](../../../../resources/static/SLF4j.jpg)

**★★重點★★**
* 配置文件還是用實作的框架，像Logback and Log4j and JUL，不要配置SLF4j。

***

##遺留的問題
一、**舉例SSH框架，Sping(JCL)、Hibernate(jboss-logging)，如果我自己配(SLF4j、Logback)，那就會大亂了...**

![SLF4j圖表](../../../../resources/static/SLF4j_2.jpg)

**如何讓系統中所有的日誌統一到SLF4j:**
>● 透過圖表可以看到SLF4j都有符合各種日誌類型的Jar包，所以可以剃除原本Jar包更換該日誌有支援SLF4j就能統整了。
1. 將系統中其他日誌排除出去
2. 用中間包來替換原有的日誌
3. 我們導入SLF4j其他實作

***

##SpringBoot日誌關係
**一、spring-boot-starter-logging包內容:**
![SLF4j圖表](../../../../resources/static/SLF4j_3.jpg)
>####**總結**
**1. SpringBoot底層是使用SLF4j+Logback的方式進行日誌紀錄。**  
**2. SpringBoot也把其他日誌都替換成SLF4j。**  
**3. 替換的主要結構在哪呢? 拿(log4j-to-slf4j)Jar包來當範例:**  

    public class SLF4JLoggerContextFactory implements LoggerContextFactory {
        private static final StatusLogger LOGGER = StatusLogger.getLogger();
        
        ***主要是這邊的LoggerContext是使用new SLF4JLoggerContext()來做替換***
        private static LoggerContext context = new SLF4JLoggerContext();
        
        public SLF4JLoggerContextFactory() {
        }
***
##如何知道是否有排除掉其他框架的日誌原jar包
**一、<exclusion>裡面就包了commons-logging，將commons-logging排除**

      <dependency>
        <groupId>org.apache.activemq</groupId>
        <artifactId>activemq-leveldb-store</artifactId>
        <version>${activemq.version}</version>
        <exclusions>
          <exclusion>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
          </exclusion>
        </exclusions>
      </dependency>